<div class="employee-container">
  <!-- Toggle Add/Edit Button -->
  <button class="btn btn-success" (click)="toggleAddForm()" id="btn">
    {{ editMode ? '‚úèÔ∏è Editing Employee' : (showForm ? '- Cancel Add' : '+ Add Employee') }}
  </button>

  <!-- Show form only if showForm is true -->
  <form *ngIf="showForm" [formGroup]="employeeForm" (ngSubmit)=" selectedEmployeeId ? updateEmployee() : createEmployee()" class="employee-form">
    <h2 class="form-title">{{ editMode ? '‚úèÔ∏è Edit Employee' : '‚ûï Add New Employee' }}</h2>

    <div class="form-group">
      <label for="name">Name</label>
      <input formControlName="name" class="form-input" id="name" />
      <div *ngIf="formControls['name'].invalid && (formControls['name'].dirty || formControls['name'].touched)" class="text-danger">
        <small *ngIf="formControls['name'].errors?.['required']">Name is required</small>
      </div>
    </div>

    <div class="form-group">
      <label for="position">Position</label>
      <input formControlName="position" class="form-input" id="position" />
      <div *ngIf="formControls['position'].invalid && (formControls['position'].dirty || formControls['position'].touched)" class="text-danger">
        <small *ngIf="formControls['position'].errors?.['required']">Position is required</small>
      </div>
    </div>

    <div class="form-group">
      <label for="salary">Salary</label>
      <input type="number" formControlName="salary" class="form-input" id="salary" min="0" />
      <div *ngIf="formControls['salary'].invalid && (formControls['salary'].dirty || formControls['salary'].touched)" class="text-danger">
        <small *ngIf="formControls['salary'].errors?.['required']">Salary is required</small>
        <small *ngIf="formControls['salary'].errors?.['min']">Salary must be positive</small>
      </div>
    </div>

    <div class="button-group">
      <button type="submit" class="btn btn-primary" [disabled]="employeeForm.invalid">
        {{ editMode ? 'Update Employee' : 'Create Employee' }}
      </button>
      <button type="button" *ngIf="editMode" (click)="onCancel()" class="btn btn-secondary">
        Cancel
      </button>
    </div>
  </form>

  <div class="employee-list">
    <h3 class="list-title">üìã Employee List</h3>
    <table class="employee-list">
      <thead>
        <tr>
          <th>Name</th>
          <th>Position</th>
          <th>Salary</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let employee of employees">
          <td>{{ employee.name }}</td>
          <td>{{ employee.position }}</td>
          <td>${{ employee.salary }}</td>
          <td class="item-buttons">
            <button (click)="onEdit(employee)" class="btn btn-warning">Edit</button>
            <button *ngIf="employee.id" (click)="onDelete(employee.id)" class="btn btn-danger">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
</div>
</div>
