<div class="invite-claim-container">
  <div class="invite-claim-form">
    <h2>Complete Your Registration</h2>
    <p>Please set your username and password to complete your account setup.</p>

    <form [formGroup]="inviteForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="username">Username</label>
        <input
          formControlName="username"
          type="text"
          class="form-control"
          id="username"
          placeholder="Choose a username" />
        <div *ngIf="formControls['username'].invalid && (formControls['username'].dirty || formControls['username'].touched)" class="text-danger">
          <small *ngIf="formControls['username'].errors?.['required']">Username is required</small>
          <small *ngIf="formControls['username'].errors?.['minlength']">Username must be at least 3 characters</small>
        </div>
      </div>

      <div class="form-group">
        <label for="password">Password</label>
        <input
          formControlName="password"
          type="password"
          class="form-control"
          id="password"
          placeholder="Choose a password" />
        <div *ngIf="formControls['password'].invalid && (formControls['password'].dirty || formControls['password'].touched)" class="text-danger">
          <small *ngIf="formControls['password'].errors?.['required']">Password is required</small>
          <small *ngIf="formControls['password'].errors?.['minlength']">Password must be at least 6 characters</small>
        </div>
      </div>

      <div class="form-group">
        <label for="confirmPassword">Confirm Password</label>
        <input
          formControlName="confirmPassword"
          type="password"
          class="form-control"
          id="confirmPassword"
          placeholder="Confirm your password" />
        <div *ngIf="formControls['confirmPassword'].invalid && (formControls['confirmPassword'].dirty || formControls['confirmPassword'].touched)" class="text-danger">
          <small *ngIf="formControls['confirmPassword'].errors?.['required']">Please confirm your password</small>
          <small *ngIf="formControls['confirmPassword'].errors?.['passwordMismatch']">Passwords do not match</small>
        </div>
      </div>

      <div class="form-group">
        <button
          type="submit"
          class="btn btn-primary btn-block"
          [disabled]="inviteForm.invalid || !inviteToken">
          Complete Registration
        </button>
      </div>
    </form>

    <div *ngIf="!inviteToken" class="alert alert-danger">
      <strong>Error:</strong> No invite token found. Please check your invite link.
    </div>
  </div>
</div>

